<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
	<title>4.2. Введение в cpkg</title>
</head>
<link rel="stylesheet" href="../../css/styles.css">
<body style="margin: 0px 150px 0px 150px">

<table summary="Header navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<th colspan="3" align="center">Управление пакетами в Calmira GNU/Linux</th>
</tr>

<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="intro_ports.html"
accesskey="P">Назад</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Домой</a></td>
<td width="33%" align="right" valign="top"><a href="makeport.html"
accesskey="N">Далее</a></td>

</tr>

<tr>
<td width="33%" align="left" valign="top">Введение в порты</td>
<td width="34%" align="center" valign="top">&nbsp;</td>
<td width="33%" align="right" valign="top">Создание порта</td>
</tr>
</table>

<hr align="LEFT" width="100%" />

<h1>4.2. Введение в cpkg</h1>

<p>cpkg - написанный с нуля пакетный менеджер для Calmira GNU/Linux. Впервые он вошёл в состав Calmira GNU/Linux 2021.2 на смену менее надёжному и функциональному <tt>cpkgi-tools</tt>. Из состава Calmira LX4 1.0 GNU/Linux он был убран ввиду своей нестабильности, но вернулся в Calmira LX4 1.1.</p>

<h2>4.2.1. Обзор функций</h2>

<ol>
	<li>Установка;</li>
	<li>Удаление;</li>
	<li>Просмотр информации.</li>
</ol>

<p>Эти 3 функции - основные в любом пакетном менеджере (далее - ПМ). Так же есть несколько дополнительных:</p>

<ol>
	<li>Создание локального репозитория с пакетами cpkg. Уже неактуально, так как из этого ПМ удалили скачивание пакетов из репозиториев. В следующих релизах это будет удалено.</li>
	<li>Вывод списка установленных пакетов;</li>
	<li>Очистка. Очистка кеша: <em><tt>/usr/src</tt></em>, <em><tt>/var/cache/cpkg/archives</tt></em>.</li>
</ol>

<p>Все остальные функции предназначены для разработчиков и не могут быть использованы для работы с пакетами.</p>

<h2>4.2.2. Функции</h2>

<ol>
	<li><tt>install</tt> - установить пакет;</li>
	<li><tt>remove</tt> - удалить пакет;</li>
	<li><tt>info</tt> - просмотр информации о пакете;</li>
	<li><tt>help</tt> - просмотр справки об использовании.</li>
</ol>

<h2>4.2.3. Установка пакета</h2>

<p>Для того, чтобы установить пакет, введите:</p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
cpkg install package.txz
</pre></td></tr></table>

<p>Для краткости можно заменить опцию <tt>install</tt> на ключ <tt>-i</tt>.</p>

<p>Пакет копируется в <em><tt>/var/cache/cpkg/archives</tt></em> и распаковывается там. После чего данные пакета копируются в нужные папки и добавляются в базу данных cpkg.</p>

<h3>4.2.3.1. Удовлетворение зависимостей пакета</h3>

<p>Учитывайте то, что cpkg НЕ обрабатывает зависимости. Он может отображать зависимости определённого пакета, но устанавливать их вы должны сами. cpkg выводит список зависимостей пакета перед тем, как установить его. Без наличия <em>необходимых</em> зависимостей пакет не будет работать (либо будет работать некорректно). Так же пакет не будет работать без некоторых <em>рекомендуемых</em> зависимостей. <em>Опциональные</em> зависимости нужны для добавления каких-либо новых функций в исходный пакет. Если вы не хотите их ставить (или вам они не нужны), то опциональные зависимости можно не устанавливать.</p>

<h2>4.2.4. Удаление пакета</h2>

<p>Для удаления выполните:</p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
cpkg remove package
</pre></td></tr></table>

<p>Для краткости можно заменить опцию <tt>remove</tt> на ключ <tt>-r</tt>.</p>

<p>Читается <em><tt>config.sh</tt></em> пакета из базы данных cpkg, и на основе данных из этого файла удаляется пакет. После чего он выносится из базы данных cpkg.</p>

<p>Просмотр информации о пакете</p>

<p>Для того, чтобы узнать версию, сборщика пакета, зависимости и другую информацию, выполните:<p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
cpkg info package
</pre></td></tr></table>

<p>Для краткости можно заменить опцию <tt>info</tt> на <tt>-I</tt>.</p>

<h2>4.2.5. Дополнительная информация</h2>

<p>Для просмотра доп. справки выполните:</p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
cpkg help
</pre></td></tr></table>

<p>Для просмотра бОльших технических особенностей и характеристик зайдите в репозиторий cpkg на <a href="https://github.com/Linuxoid85/cpkg">GitHub</a>.</p>

<hr align="LEFT" width="100%" />

<table summary="Footer navigation table" width="100%" border="0" cellpadding="0"
cellspacing="0">
<tr>
<td width="33%" align="left" valign="top"><a href="intro_ports.html"
accesskey="P">Назад</a></td>
<td width="34%" align="center" valign="top"><a href="index.html"
accesskey="H">Домой</a></td>
<td width="33%" align="right" valign="top"><a href="makeport.html"
accesskey="N">Далее</a></td>

</tr>

<tr>
<td width="33%" align="left" valign="top">Введение в порты</td>
<td width="34%" align="center" valign="top">&nbsp;</td>
<td width="33%" align="right" valign="top">Создание порта</td>
</tr>
</table><br>
</body></table>
